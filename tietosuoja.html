<!doctype html>
<html lang="fi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Missio ‚Äî Kysymys 4/6</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./css/tietosuoja.css">
</head>
<body class="level-page">
  <div class="container">
    <a class="back-btn" href="index.html">‚Üê  Takaisin missioihin</a>
  </div>

  <main class="container level-main">
    <section class="panel">
      <header class="panel-header">
        <div class="panel-title">üîí YKSITYISYYS &amp; K√ÑYTT√ñOIKEUDET</div>
        <div class="panel-sub">KYSYMYS <span id="qIndex">1</span> / <span id="qTotal">6</span> | PISTEET: <span id="score">0</span> / <span id="maxScore">6</span></div>
      </header>

      <div class="panel-body">
        <div class="question-box">
          <div class="q-label">üì± SKENAARIO:</div>
          <p class="q-text" id="scenario">--</p>
          <p class="q-followup" id="followup">--</p>
        </div>

        <div class="options" id="options"></div>

        <div class="info-box" id="info" aria-hidden="true"><div class="info-text" id="infoText"></div></div>

        <div class="panel-actions">
          <button id="nextBtn" class="next-btn" disabled>SEURAAVA SKENAARIO ‚Üí</button>
        </div>
      </div>

    </section>
  </main>

  <script>
    (function(){
      // eli kyss√§rit - skenaariot - vaihtoehdot - selitykset
      const questions = [
        {
          scenario: 'Luot sosiaalisen median profiilia. Mitk√§ tiedot on turvallista jakaa julkisesti? <br><br>Mit√§ sinun pit√§isi jakaa?</br></br>',
          options: [
            {text: 'A. Koko nimesi, puhelinnumerosi ja osoitteesi'},
            {text: "B. Vain etunimesi ja harrastuksesi"},
            {text: 'C. Koulusi nimi ja tuntisuunnitelma'},
            {text: 'D. Syntym√§p√§iv√§si mukaan lukien vuosi'}
          ],
          correct: 1,
          explanation: 'Jaa vain perus- ja ei-arkaluonteisia tietoja julkisesti. Etunimesi ja harrastuksesi ovat turvallisia. √Ñl√§ koskaan jaa koko osoitettasi, puhelinnumeroasi, koulutietojasi tai tarkkaa syntym√§p√§iv√§√§si julkisesti.'
        },

        {
          scenario: 'Uusi sovellus pyyt√§√§ lupaa k√§ytt√§√§ yhteystietojasi, sijaintiasi, kameraasi ja mikrofoniasi. <br><br>Mit√§ sinun pit√§isi harkita?</br></br>',
          options: [
            {text: 'A. Hyv√§ksy kaikki luvat k√§ytt√§√§ksesi kaikkia ominaisuuksia'},
            {text: 'B. Est√§√§ kaikki'},
            {text: 'C. My√∂nt√§√§ vain luvat, joita sovellus todella tarvitsee'},
            {text: 'D. Sill√§ ei ole v√§li√§, kaikki sovellukset tarvitsevat n√§it√§'}
          ],
          correct: 2,
          explanation: 'Anna sovelluksille vain ne luvat, joita ne todella tarvitsevat! Kuvank√§sittelysovellus tarvitsee kameran mutta ei yhteystietojasi. Tarkista jokainen lupa ja mieti miksi sovellus tarvitsee sit√§.'
        },

        {
          scenario: 'K√§yt√§t julkista tietokonetta kirjastossa. Mit√§ sinun pit√§isi tehd√§ kun olet valmis? <br><br>Paras k√§yt√§nt√∂?</br></br>',
          options: [
            {text: 'A. Kirjautua ulos ja tyhjent√§√§ selaushistoria'},
            {text: 'B. Vain sulkea selain'},
            {text: 'C. J√§tt√§√§ kaikki auki seuraavalle henkil√∂lle'},
            {text: 'D. Kirjautua ulos vain t√§rkeist√§ tileist√§'}
          ],
          correct: 0,
          explanation: 'Kirjaudu aina kokonaan ulos ja tyhjenn√§ selaushistoria julkisilla tietokoneilla. T√§m√§ est√§√§ seuraavaa henkil√∂√§ p√§√§sem√§st√§ tileillesi tai n√§kem√§st√§ henkil√∂kohtaista tietojasi.'
        },

        {
          scenario: 'Verkkosivusto k√§ytt√§√§ ev√§steit√§ ja pyyt√§√§ suostumustasi. Mit√§ sinun pit√§isi tiet√§√§? <br><br>Mihin ev√§steit√§ k√§ytet√§√§n?</br></br>',
          options: [
            {text: 'A. Ne ovat vain verkkosivustojen toimimista varten'},
            {text: 'B. Ne ovat harmittomia ja aina hy√∂dyllisi√§'},
            {text: 'C. Ne voivat seurata selaustasi ja ker√§t√§ tietoja sinusta'},
            {text: 'D. Ne tallentavat vain salasanasi'}
          ],
          correct: 2,
          explanation: 'Ev√§steet voivat seurata verkkoaktiivisuuttasi verkkosivustoilla! Osa on tarpeen verkkosivustojen toimimiseksi mutta monet seuraavat sinua mainostarkoituksiin. Tarkista ev√§steasetukset ja hyv√§ksy vain mit√§ olet valmis hyv√§ksym√§√§n.'
        },

        {
          scenario: 'Haluat k√§ytt√§√§ ilmaista WiFi:t√§ kahvilassa tarkistaaksesi pankkitilisi. <br><br>Onko t√§m√§ turvallista?</br></br>',
          options: [
            {text: 'A. Kyll√§, ilmainen WiFi on aina turvallista k√§ytt√§√§'},
            {text: 'B. Kyll√§ mutta vain jos k√§yt√§t puhelintasi'},
            {text: 'C. Ei, v√§lt√§ arkaluonteisten tietojen tarkistamista julkisissa verkoissa'},
            {text: 'D. Kyll√§, jos kahvila n√§ytt√§√§ luotettavalta'}
          ],
          correct: 2,
          explanation: 'Julkinen WiFi EI ole turvallinen! Kuka tahansa samassa verkossa voi mahdollisesti n√§hd√§ tietosi. √Ñl√§ koskaan k√§yt√§ arkaluontoisia tilej√§ (pankki, s√§hk√∂postin salasanat) julkisessa WiFi:ss√§ ilman VPN:√§√§.'
        },

        {
          scenario: 'Sovellus haluaa tiet√§√§ sijaintisi "aina", jopa kun et k√§yt√§ sovellusta. <br><br>Mit√§ sinun pi√§isi tehd√§?</br></br>',
          options: [
            {text: 'A. Sallia se - ne luultavasti tarvitsevat sit√§'},
            {text: 'B. Sill√§ ei ole v√§li√§'},
            {text: 'C. Vaihtaa se "vain sovelluksen k√§yt√∂n aikana" tai est√§√§'},
            {text: 'D. Salli se mutta sammuttaa se my√∂hemmin'}
          ],
          correct: 2,
          explanation: 'Sovellukset harvoin tarvitsevat sijaintiasi "aina"! T√§m√§ seuraa sinua jatkuvasti. Valitse "sovelluksen k√§yt√∂n aikana", jotta voit hallita milloin ne n√§kev√§t sijaintisi. Suojaa yksityisyytt√§si rajoittamalla seurantaa.'
        }
      ];

      const qTotal = questions.length;
      let qIndex = 0; 
      let score = 0;

      const qIndexEl = document.getElementById('qIndex');
      const qTotalEl = document.getElementById('qTotal');
      const maxScoreEl = document.getElementById('maxScore');
      const scoreEl = document.getElementById('score');
      const scenarioEl = document.getElementById('scenario');
      const optionsEl = document.getElementById('options');
      const infoEl = document.getElementById('info');
      const infoText = document.getElementById('infoText');
      const nextBtn = document.getElementById('nextBtn');
      const panelEl = document.querySelector('.panel');

      qTotalEl.textContent = qTotal;
      maxScoreEl.textContent = qTotal;

      function renderQuestion(){
        const q = questions[qIndex];
        qIndexEl.textContent = qIndex + 1;
        
        // followup kyss√§ri harmaalla tekstill√§
        const parts = q.scenario.split('<br><br>');
        scenarioEl.innerHTML = parts[0] || '';
        const followupEl = document.getElementById('followup');
        if(followupEl) {
          followupEl.innerHTML = parts[1] || '';
          followupEl.style.display = parts[1] ? 'block' : 'none';
        }
        
        optionsEl.innerHTML = '';
        infoEl.className = 'info-box';
        infoEl.setAttribute('aria-hidden','true');
        infoText.textContent = '';
        nextBtn.disabled = true;
        
        if(panelEl){ panelEl.classList.remove('panel-correct','panel-warn'); }

        q.options.forEach((opt, i) => {
          const b = document.createElement('button');
          b.className = 'option';
          b.type = 'button';
          b.dataset.index = i;
          b.textContent = opt.text;
          optionsEl.appendChild(b);
        });
      }

      function finishQuiz(){
        // loppu teksti
        const panelBody = document.querySelector('.panel-body');
        panelBody.innerHTML = `
          <div style="padding:18px;text-align:center;">
            <h3 style="color:#9ff8e8">Olet suorittanut teht√§v√§n!</h3>
            <p style="color:#bffefe">Pisteesi: <strong>${score}</strong> / ${qTotal}</p>
            <div style="margin-top:18px;display:flex;gap:10px;justify-content:center;">
              <a href="index.html" class="next-btn">Takaisin teht√§viin</a>
            </div>
          </div>
        `;
      }

      // Handle option clicks
      optionsEl.addEventListener('click', (e)=>{
        const btn = e.target.closest('.option');
        if(!btn || btn.classList.contains('disabled')) return;

        
        Array.from(optionsEl.children).forEach(o => { o.classList.add('disabled'); o.setAttribute('disabled','true'); });

        const chosen = Number(btn.dataset.index);
        const current = questions[qIndex];
        const correctIdx = current.correct;

        if(chosen === correctIdx){
          // hohtoa kun vastaa oikein/v√§√§rin
          btn.classList.add('selected-correct');
          score += 1;
          infoEl.classList.add('info-success');
          infoText.textContent = current.explanation;
        } else {
          // kun valitsee v√§√§r√§n
          btn.classList.add('selected-wrong');
          
          const correctBtn = optionsEl.querySelector(`button[data-index="${correctIdx}"]`);
          if(correctBtn) correctBtn.classList.add('correct');
          infoEl.classList.add('info-warn');
          // ja ikoni palautteeseen jos vastaa v√§√§rin
          infoText.textContent = 'üí° ' + current.explanation;
        }
        infoEl.setAttribute('aria-hidden','false');
        scoreEl.textContent = score;
        nextBtn.disabled = false;
      });

      nextBtn.addEventListener('click', ()=>{
        qIndex += 1;
        if(qIndex >= qTotal){
          finishQuiz();
          return;
        }
        renderQuestion();
      });

      
      renderQuestion();
    })();
  </script>
</body>
</html>